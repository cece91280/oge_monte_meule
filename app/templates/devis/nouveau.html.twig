{% extends 'base.html.twig' %}
{% block javascripts %}
    {{ parent() }}

{% endblock %}
{% block title %}Créer un devis{% endblock %}

{% block body %}
    {% include 'partials/_header.html.twig' %}
    <section class="hero">
        <img src="{{ asset('img/Devis.png') }}" alt="Services">
        <div class="hero-content">
            <h1>Demandez votre devis gratuit.</h1>
            <p>Remplissez le formulaire ci-dessous pour obtenir une estimation personnalisée de votre déménagement. Notre équipe vous repondra dans les plus bref délai.</p>
        </div>
    </section>
<div class="form-container">
    {{ form_start(form) }}

    {# Informations personnelles #}
    {% if app.user %}
        <h3>Informations personnelles</h3>
        <div class="form-inline">
            <div class="form-group">
                <label>Nom :</label>
                <input type="text" value="{{ app.user.nom }}" readonly>
            </div>
            <div class="form-group">
                <label>Prénom :</label>
                <input type="text" value="{{ app.user.prenom }}" readonly>
            </div>
        </div>
        <div class="form-group">
            <label>Email :</label>
            <input type="email" value="{{ app.user.email }}" readonly>
        </div>
        <div class="form-group">
            <label>Téléphone :</label>
            <input type="text" value="{{ app.user.telephone }}" readonly>
        </div>
    {% endif %}

    {# Informations générales #}
    <h3>Informations générales</h3>
    {{ form_row(form.volume) }}
    {{ form_row(form.date_demenagement)}}
    {# Adresse de départ #}
    <h3>Adresse de départ</h3>
    {{ form_row(form.adressesDepart.adresse_nom) }}
    <div class="form-inline">
        {{ form_row(form.adressesDepart.code_postal) }}
        {{ form_row(form.adressesDepart.ville) }}
    </div>
    {{ form_row(form.adressesDepart.etage) }}
    <div class="radio-group">
        <label>Ascenseur</label>
        <div class="radio-options">
            {% for child in form.adressesDepart.ascenseur %}
                <label class="radio-option">
                    {{ form_widget(child) }} {{ form_label(child) }}
                </label>
            {% endfor %}
        </div>
    </div>
    {{ form_row(form.adressesDepart.typeBiens) }}

    {# Adresse d’arrivée #}
    <h3>Adresse d’arrivée</h3>
    {{ form_row(form.adressesArriver.adresse_nom) }}
    <div class="form-inline">
        {{ form_row(form.adressesArriver.code_postal) }}
        {{ form_row(form.adressesArriver.ville) }}
    </div>
    {{ form_row(form.adressesArriver.etage) }}
    <div class="radio-group">
        <label>Ascenseur</label>
        <div class="radio-options">
            {% for child in form.adressesArriver.ascenseur %}
                <label class="radio-option">
                    {{ form_widget(child) }} {{ form_label(child) }}
                </label>
            {% endfor %}
        </div>
    </div>
    {{ form_row(form.adressesArriver.typeBiens) }}

    {# Prestations (checkboxes) #}
    <h3>Services supplémentaires souhaités</h3>
    <div class="checkbox-group">
        {% for prestation in form.prestations %}
            <label class="checkbox-item">
                {{ form_widget(prestation) }}
                {{ form_label(prestation) }}
            </label>
        {% endfor %}
    </div>

    {# Commentaire #}
    <h3>Commentaires ou précisions supplémentaires</h3>
    {{ form_row(form.commentaire) }}

    {# Envoi #}
    <button type="submit" class="btn-primary">Envoyer le devis</button>

    {{ form_end(form) }}
</div>
    {% include 'partials/_footer.html.twig' %}
{%  endblock %}