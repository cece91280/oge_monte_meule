{% extends 'base.html.twig' %}

{% block javascripts %}
    {{ parent() }}
<script src="{{ asset('js/calendrier.js') }}" defer></script>
{% endblock %}

{% block body %}
    {% include 'partials/_header.html.twig' %}
    <main>
        <section class="hero">
            <img src="{{ asset('img/Accueil.png') }}" alt="Accueil">
            <div class="hero-content">
                <h2>Votre déménagement en toute sérénité.</h2>
                <p>Nous prenons en charge votre déménagement de A à Z avec professionnalisme et attention.</p>
            </div>
            <div class="hero-buttons">
                <a href="{{ path('app_devis_nouveau') }}" class="btn">Demande un devis gratuit</a>
                <a href="{{ path('app_services') }}" class="btn">Découvrir nos services</a>
            </div>
        </section>

        <section class="calendrier">
            <div class="calendar-header">
                <button id="prevMonth">&lt;</button>
                <h3 id="monthYear">Juin 2025</h3>
                <button id="nextMonth">&gt;</button>
            </div>
            <table id="calendarTable">
                <thead>
                <tr>
                    <th>Lun</th>
                    <th>Mar</th>
                    <th>Mer</th>
                    <th>Jeu</th>
                    <th>Ven</th>
                    <th>Sam</th>
                    <th>Dim</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td class="calendar-day">1</td>
                    <td class="calendar-day">2</td>
                </tr>
                <tr>
                    <td class="calendar-day">3</td>
                    <td class="calendar-day">4</td>
                    <td class="calendar-day">5</td>
                    <td class="calendar-day">6</td>
                    <td class="calendar-day">7</td>
                    <td class="calendar-day">8</td>
                    <td class="calendar-day">9</td>
                </tr>
                <tr>
                    <td class="calendar-day">10</td>
                    <td class="calendar-day">11</td>
                    <td class="calendar-day">12</td>
                    <td class="calendar-day">13</td>
                    <td class="calendar-day">14</td>
                    <td class="calendar-day">15</td>
                    <td class="calendar-day">16</td>
                </tr>
                <tr>
                    <td class="calendar-day">17</td>
                    <td class="calendar-day">18</td>
                    <td class="calendar-day">19</td>
                    <td class="calendar-day">20</td>
                    <td class="calendar-day">21</td>
                    <td class="calendar-day">22</td>
                    <td class="calendar-day">23</td>
                </tr>

            </table>
        </section>

        <section class="service">
            <h2>Nos services de déménagement</h2>
            <p>Des solutions adaptées à tous vos besoins de déménagement, qu'il s'agisse d'un petit appartement ou d'une grande maison.</p>
            <div class="service-item">
                <div class="icon-circle">
                <svg width="24" height="24" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <use xlink:href="{{ asset('img/sprite.svg') }}#home"></use>
                </svg>
            </div>
                <h3>Déménagement résidentiel</h3>
                <p>Notre équipe prend en charge votre déménagement résidentiel avec soin et efficacité, du petit studio à la grande maison familiale.</p>
                <a href="{{ path('app_services') }}" class="btn">En savoir plus</a>
            </div>
            <div class="service-item">
                <div class="icon-circle">
                <svg width="24" height="24" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <use xlink:href="{{ asset('img/sprite.svg') }}#building"></use>
                </svg>
            </div>
                <h3>Déménagement d'entreprise</h3>
                <p>Nous organisons votre déménagement professionnel pour minimiser l'impact sur votre activité avec une planification minutieuse.</p>
                <a href="{{ path('app_services') }}" class="btn">En savoir plus</a>
            </div>
            <div class="service-item">
                <div class="icon-circle">
                <svg width="24" height="24" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <use xlink:href="{{ asset('img/sprite.svg') }}#ring"></use>
                </svg>
                </div>
                <h3>Emballage et protection</h3>
                <p>Service complet d'emballage et de protection de vos biens avec des matériaux de qualité pour assurer leur sécurité pendant le transport.</p>
                <a href="{{ path('app_services') }}" class="btn">En savoir plus</a>
            </div>
        </section>

        <section class="choix">
            <h2>Pourquoi nous choisir ?</h2>
            <p>Nous nous engageons à offrir un service de déménagement de qualité supérieure avec une attention particulière aux détails.</p>
            <div class="choix-item">
                <div class="icon-circle">
                <svg width="30" height="30" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <use xlink:href="{{ asset('img/sprite.svg') }}#shield"></use>
                </svg>
            </div>
                <h3>Fiabilité</h3>
                <p>Plus de 5 ans d'expérience et des milliers de clients satisfaits.</p>
            </div>
            <div class="choix-item">
                <div class="icon-circle">
                <svg width="30" height="30" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <use xlink:href="{{ asset('img/sprite.svg') }}#communaute"></use>
                </svg>
            </div>
                <h3>Équipe qualifiée</h3>
                <p>Personnel formé et expérimenté pour manipuler vos biens avec soin.</p>
            </div>
            <div class="choix-item">
                <div class="icon-circle">
                <svg width="30" height="30" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <use xlink:href="{{ asset('img/sprite.svg') }}#market"></use>
                </svg>
            </div>
                <h3>Prix transparent</h3>
                <p>Devis détaillé sans frais cachés et adapté à votre budget.</p>
            </div>
            <div class="choix-item">
                <div class="icon-circle">
                <svg width="30" height="30" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <use xlink:href="{{ asset('img/sprite.svg') }}#earphone"></use>
                </svg>
            </div>
                <h3>Service client</h3>
                <p>Accompagnement personnalisé tout au long de votre déménagement.</p>
            </div>
        </section>

        <section class="clients">
            <h2>Ce que disent nos clients</h2>
            <p>Découvrez les témoignages de nos clients satisfaits par notre service de déménagement.</p>
            {% for avis in avis %}
                <div class="client-item">
                    <div class="stars">
                        {% for i in 1..5 %}
                            {% if i <= avis.note %}
                                ★
                            {% else %}
                                ☆
                            {% endif %}
                        {% endfor %}
                    </div>
                    <p>{{ avis.commentaire }}</p>
                    <svg width="30" height="30" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <use xlink:href="{{ asset('img/sprite.svg') }}#person"></use>
                    </svg>
                    <h3>
                        {{ avis.users.prenom ?? 'Utilisateur inconnu' }}
                    </h3>
                    <p>
                        {% if avis.devis and avis.devis.adressesDepart and avis.devis.adressesArriver %}
                            {{ avis.devis.adressesDepart.ville }} ⭢ {{ avis.devis.adressesArriver.ville }}
                        {% else %}
                            (Lieu non renseigné)
                        {% endif %}
                    </p>
                </div>
            {% else %}
                <p>Aucun avis client pour le moment.</p>
            {% endfor %}
        </section>

        <section class="devis">
            <h2>Prêt à planifier votre déménagement ?</h2>
            <p>Contactez-nous dès aujourd'hui pour obtenir un devis gratuit et personnalisé pour votre prochain déménagement.</p>
            <div class="devis-buttons">
                <a href="{{ path('app_devis_nouveau') }}" class="btn">Demander un Devis</a>
                <a href="{{ path('app_contact') }}" class="btn">Nous contacter</a>
            </div>
        </section>
    </main>
{% include 'partials/_footer.html.twig' %}
{% endblock %}